<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Panel - Cinema Management</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="../../assets/css/adminindex.css">
</head>
<body>
    <!-- Header Section -->
    <div class="admin-header">
        <div class="container">
            <h1 class="admin-title">
                <i class="fas fa-crown"></i> Admin Panel
            </h1>
            <p class="admin-subtitle">Hệ Thống Quản lý Phim</p>
        </div>
    </div>

    <div class="container">
        <!-- Navigation Controls -->
        <div class="nav-controls">
            <div class="admin-dropdown">
                <button class="dropdown-btn" onclick="toggleDropdown()">
                    <i class="fas fa-cog"></i>
                    Admin Control
                    <i class="fas fa-chevron-down"></i>
                </button>
                <div id="dropdownMenu" class="dropdown-menu-custom">
                    <a href="quanlytaikhoan.html" class="dropdown-item-custom">
                        <i class="fas fa-users"></i>
                        Quản lý Tài Khoản
                    </a>
                    <a href="phim.html" class="dropdown-item-custom">
                        <i class="fas fa-video"></i>
                        Quản lý Phim
                    </a>
                    <a href="phongchieu.html" class="dropdown-item-custom">
                        <i class="fas fa-building"></i>
                        Quản lý Phòng Chiếu
                    </a>
                    <a href="bapnuoc.html" class="dropdown-item-custom">
                        <i class="fas fa-glass-martini-alt"></i>
                        Đồ Ăn – Thức Uống
                    </a>
                    <a href="suatchieu.html" class="dropdown-item-custom">
                        <i class="fas fa-clock"></i>
                        Quản lý Suất Chiếu
                    </a>
                    <a href="ve.html" class="dropdown-item-custom">
                        <i class="fas fa-ticket-alt"></i>
                        Quản lý Vé
                    </a>
                    <a href="doanhthu.html" class="dropdown-item-custom">
                        <i class="fas fa-ticket-alt"></i>
                        Doanh thu
                    </a>
                </div>
            </div>
            
            <a href="/frontend/pages/Phim/index.html" class="back-btn">
                <i class="fas fa-arrow-left"></i>
                Quay lại trang chủ
            </a>
        </div>

        <!-- Stats Section -->
        <!-- <div class="stats-section">
            <div class="stats-grid">
                <div class="stat-card">
                    <span class="stat-number">127</span>
                    <div class="stat-label">Tổng số phim</div>
                </div>
                <div class="stat-card">
                    <span class="stat-number">8</span>
                    <div class="stat-label">Phòng chiếu</div>
                </div>
                <div class="stat-card">
                    <span class="stat-number">1,234</span>
                    <div class="stat-label">Vé đã bán</div>
                </div>
                <div class="stat-card">
                    <span class="stat-number">45</span>
                    <div class="stat-label">Suất chiếu hôm nay</div>
                </div>
            </div>
        </div> -->

        <!-- Admin Cards Grid -->
        <div class="admin-grid">
            <div class="admin-card" onclick="navigateTo('quanlytaikhoan.html')">
                <i class="fas fa-users card-icon"></i>
                <h3 class="card-title">Quản lý Tài Khoản</h3>
                <p class="card-description">Chỉnh sửa quyền và xóa các tài khoản người dùng</p>
            </div>

            <div class="admin-card" onclick="navigateTo('phim.html')">
                <i class="fas fa-video card-icon"></i>
                <h3 class="card-title">Quản lý Phim</h3>
                <p class="card-description">Quản lý thông tin phim, poster, thời lượng, mô tả và các chi tiết khác</p>
            </div>

            <div class="admin-card" onclick="navigateTo('phongchieu.html')">
                <i class="fas fa-building card-icon"></i>
                <h3 class="card-title">Quản lý Phòng Chiếu</h3>
                <p class="card-description">Thiết lập và quản lý các phòng chiếu, sức chứa và thiết bị</p>
            </div>


            <div class="admin-card" onclick="navigateTo('bapnuoc.html')">
                <i class="fas fa-glass-martini-alt card-icon"></i>
                <h3 class="card-title">Quản lý Đồ Ăn – Thức Uống</h3>
                <p class="card-description">Quản lý menu đồ ăn, thức uống và giá cả tại rạp</p>
            </div>

            <div class="admin-card" onclick="navigateTo('suatchieu.html')">
                <i class="fas fa-clock card-icon"></i>
                <h3 class="card-title">Quản lý Suất Chiếu</h3>
                <p class="card-description">Lên lịch chiếu phim, quản lý thời gian và phòng chiếu</p>
            </div>

            <div class="admin-card" onclick="navigateTo('ve.html')">
                <i class="fas fa-ticket-alt card-icon"></i>
                <h3 class="card-title">Quản lý Vé</h3>
                <p class="card-description">Theo dõi và quản lý việc bán vé, đặt chỗ của khách hàng</p>
            </div>

            <div class="admin-card" onclick="navigateTo('doanhthu.html')" role="button" tabindex="0">
              <i class="fas fa-chart-bar card-icon"></i>
              <h3 class="card-title">Doanh thu</h3>
              <p class="card-description">Doanh thu trong thời gian 30 ngày của rạp</p>
            </div>


        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/js/bootstrap.bundle.min.js"></script>
    <script>
  function $(sel, root=document){ return root.querySelector(sel); }
  function $all(sel, root=document){ return Array.from(root.querySelectorAll(sel)); }

  (function setupAdminDropdown(){
    const btn = $('.dropdown-btn');
    const menu = $('#dropdownMenu');
    if (!btn || !menu) return;

    btn.setAttribute('aria-haspopup', 'true');
    btn.setAttribute('aria-expanded', 'false');

    const openClass = 'show';

    function openMenu(){
      menu.classList.add(openClass);
      btn.setAttribute('aria-expanded', 'true');
      const firstItem = menu.querySelector('a.dropdown-item-custom');
      if (firstItem) firstItem.tabIndex = 0;
    }
    function closeMenu(){
      menu.classList.remove(openClass);
      btn.setAttribute('aria-expanded', 'false');
    }
    function toggleMenu(){
      menu.classList.contains(openClass) ? closeMenu() : openMenu();
    }

    btn.addEventListener('click', (e)=>{
      e.stopPropagation();
      toggleMenu();
    });

    menu.addEventListener('click', (e)=>{
      e.stopPropagation();
      const a = e.target.closest('a[href]');
      if (a) closeMenu();
    });

    document.addEventListener('click', ()=>{
      if (menu.classList.contains(openClass)) closeMenu();
    });

    btn.addEventListener('keydown', (e)=>{
      if (e.key === 'Enter' || e.key === ' ') {
        e.preventDefault();
        toggleMenu();
      } else if (e.key === 'Escape') {
        closeMenu();
      }
    });
    menu.addEventListener('keydown', (e)=>{
      if (e.key === 'Escape') {
        closeMenu();
        btn.focus();
      }
    });
  })();

  function navigateTo(url, cardEl){
    if (!url) return;
    const card = cardEl || this;
    const originalHTML = card.innerHTML;
    card.innerHTML = `
      <div style="text-align:center;padding:20px">
        <div class="loading-spinner"></div>
        <p style="margin-top:10px;">Đang chuyển hướng...</p>
      </div>
    `;
    setTimeout(()=>{ window.location.href = url; }, 800);
    setTimeout(()=>{ card.innerHTML = originalHTML; }, 4000);
  }

  (function bindCards(){
    const cards = $all('.admin-card');
    cards.forEach((card)=>{
      if (card.getAttribute('onclick')) return;
      const urlMap = {
        'Quản lý Tài Khoản': 'quanlytaikhoan.html',
        'Quản lý Loại Phim': 'loaiphim.html',
        'Quản lý Phim': 'phim.html',
        'Quản lý Phòng Chiếu': 'phongchieu.html',
        'Quản lý Ghế': 'ghe.html',
        'Quản lý Bắp Nước': 'bapnuoc.html',
        'Quản lý Suất Chiếu': 'suatchieu.html',
        'Quản lý Vé': 've.html',
        'Doanh thu': 'doanhthu.html'  
      };
      const title = card.querySelector('.card-title')?.textContent?.trim();
      const url = urlMap[title];
      if (url) card.addEventListener('click', ()=>navigateTo(url, card));
      else card.addEventListener('click', ()=>alert('Tính năng này sẽ được cập nhật trong phiên bản tiếp theo!'));
    });
  })();
  document.addEventListener('DOMContentLoaded', function(){
    const cards = $all('.admin-card');
    cards.forEach((card, idx)=>{
      card.style.opacity = '0';
      card.style.transform = 'translateY(20px)';
      setTimeout(()=>{
        card.style.transition = 'all .6s ease';
        card.style.opacity = '1';
        card.style.transform = 'translateY(0)';
      }, idx * 100);
    });
  });

  function animateNumber(element, target, duration){
    const end = parseInt((target+'').replace(/,/g,''), 10) || 0;
    const frames = Math.max(1, Math.floor(duration/16));
    let cur = 0;
    const step = end / frames;
    const t = setInterval(()=>{
      cur += step;
      if (cur >= end){ element.textContent = end.toLocaleString(); clearInterval(t); }
      else { element.textContent = Math.floor(cur).toLocaleString(); }
    }, 16);
  }
</script>

</body>
</html>